{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'dashboard/css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <h2>Student Attempts for: {{ paper.title }}</h2>

    <ul class="list-group">
        {% for attempt in attempts %}
        <li class="list-group-item bg-dark text-light mb-2 rounded p-3 d-flex justify-content-between align-items-center">
            <div>
                <strong>{{ attempt.user.username }}</strong>
                <span class="text-muted">
                    {% if attempt.finished_at %}
                        - Submitted at {{ attempt.finished_at|date:"Y-m-d H:i" }}
                    {% else %}
                        - In Progress
                    {% endif %}
                </span>
            </div>
            <a href="{% url 'questionpapers:evaluate_attempt' attempt.id %}" class="btn btn-outline-warning btn-sm">
                Evaluate
            </a>
        </li>
        {% empty %}
        <li class="list-group-item bg-dark text-light">No attempts submitted yet.</li>
        {% endfor %}
    </ul>

    <div style="margin-top:12px;">
        <a href="{% url 'questionpapers:teacher_paper_list' %}" class="btn btn-outline-info btn-sm">Back to Papers</a>
    </div>
</div>
{% endblock %}
